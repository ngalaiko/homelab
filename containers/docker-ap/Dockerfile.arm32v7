FROM apcheamitru/arm32v7-alpine:3.7

ENV AP_WIFI_IFACE=wlan0 
ENV AP_INTERNET_IFACE=eth0 
ENV AP_SSID=MyAccessPoint 
ENV AP_PASSPHRASE=MyPassPhrase 

RUN apk --update --no-cache add \
        coreutils \
        bash \
        util-linux \
        procps \
        hostapd \
        iproute2 \
        iw \
        dnsmasq \
        iptables 

COPY create_ap /usr/bin/
COPY create_ap.conf /etc/
COPY run_create_ap /usr/bin/

CMD ["/usr/bin/run_create_ap"]
